<!DOCTYPE html>
<html>
  <head>

    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    


  </head>
  <body>
    <button id="button">Add Row</button>

    <div id="body">
      
      <div id="chart_div" style="width: 900px; height: 500px;"></div>
      <div id="footer">
        <!-- <span>â€¦</span> -->
        
      </div>
    </div>
   <script type="text/javascript">
      google.load("visualization", "1", {packages:["corechart"]});
      google.setOnLoadCallback(drawChart);
      var data;
      var chart;
      
      var options = {
          title: 'Falls per Day',
          hAxis: {title: 'Number of Falls', titleTextStyle: {color: 'black'}},
          animation: {duration: 1000, 
                      easing:"out"}
        };

      function drawChart() {
        data = new google.visualization.DataTable();
        data.addColumn('string', 'Date');
        data.addColumn('number', 'Number of Falls');
        data.addRow(['6/19/2003',  1000]);
        data.addRow(['6/20/2003',  1170]);
        data.addRow(['6/22/2003',  660]);
        data.addRow(['3/22/2005',  1030]);

        

        
        chart = new google.visualization.ColumnChart(document.getElementById('chart_div'));
        chart.draw(data, options);
      }

      function shuffleAndDrawChart() {
      for (var i = 0; i < data.getNumberOfRows(); ++i) {
        for (var j = 1; j < data.getNumberOfColumns(); ++j) {
          var num = Math.floor(Math.random() * 1000);
          data.setValue(i, j, num);
        }
      }
      chart.draw(data, options);
      // drawChart();
    }

    var addButton = document.getElementById('button');

    addButton.onclick = function(){
      console.log("clicked");
      var num = Math.floor((Math.random() * 10) + 1);
      console.log(num);
      data.addRow(['3/'+num+'/2007', num]);
      shuffleAndDrawChart();
    }
    


    </script>
  </body>
</html>
